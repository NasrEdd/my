<div class="col-12 my-0 py-0">
    <div class="card cardContent h-100 p-0 rounded-3">
        <div class="card-header col-12 m-0 p-0">
            <div class="collapse mt-0 mb-2 p-0" id="collapsingSearchArea">
                <div class="card card-body border-0 px-0 px-lg-2 py-2" style="background-color: transparent;">
                    <div class="col-12 pt-2 pb-0">
                        <form class="d-block text-center d-lg-flex flex-lg-column justify-content-center col-12 px-xl-2 px-2 px-lg-0 px-xl-2">
                            <div class="row col-12 px-0 mx-0">
                                <div class="form-group col-12 col-lg-2 mx-auto mb-2 mb-lg-0 px-1">
                                    <input type="text" class="form-control" name="SrchMatricule" id="SrchMatricule" aria-describedby="helpId" [placeholder]=" 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.MATRICULE'|translate ">
                                </div>
                                <div class="form-group col-12 col-lg-3 mx-auto mb-2 mb-lg-0 px-1">
                                    <input type="text" class="form-control" name="SrchNom" id="SrchNom" aria-describedby="helpId" [placeholder]=" 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.NOM'|translate ">
                                </div>
                                <div class="form-group col-12 col-lg-3 mx-auto mb-2 mb-lg-0 px-1">
                                    <input type="text" class="form-control" name="SrchPrenom" id="SrchPrenom" aria-describedby="helpId" [placeholder]=" 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.PRENOM'|translate ">
                                </div>
                                <div class="form-group col-12 col-lg-2 mx-auto mb-2 mb-lg-0 px-1">
                                    <select class="form-select" name="SrchAnnee" id="SrchAnnee">
                                        <option selected disabled> {{ 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.ANNEE'|translate }} </option>
                                        <option> 2020-2021 </option>
                                        <option> 2019-2020 </option>
                                        <option> 2018-2019 </option>
                                    </select>
                                </div>
                                <div class="form-group col-12 col-lg-2 mx-auto mb-2 mb-lg-0 px-1">
                                    <select class="form-select" name="SrchCodeProg" id="SrchCodeProg">
                                        <option selected disabled> {{ 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.PROGCODE'|translate }} </option>
                                        <option> A123 </option>
                                        <option> B456 </option>
                                        <option> C789 </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-12 px-0 mx-0 mt-lg-2">
                                <div class="form-group col-12 col-lg-2 mx-auto mb-2 mb-lg-0 px-1">
                                    <input type="text" class="form-control" name="SrchProg" id="SrchProg" aria-describedby="helpId" [placeholder]=" 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.PROGRAM'|translate ">
                                </div>
                                <div class="form-group col-12 col-lg-3 mx-auto mb-2 mb-lg-0 px-1">
                                    <input type="text" class="form-control" name="SrchFiliere" id="SrchFiliere" aria-describedby="helpId" [placeholder]=" 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.FILIERE'|translate ">
                                </div>
                                <div class="form-group col-12 col-lg-3 mx-auto mb-2 mb-lg-0 px-1">
                                    <select class="form-select" name="SrchEcole" id="SrchEcole">
                                        <option selected disabled> {{ 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.ECOLE'|translate }} </option>
                                        <option> E-PolyTech </option>
                                        <option> ISIAM </option>
                                    </select>
                                </div>
                                <div class="form-group col-12 col-lg-2 mx-auto mb-2 mb-lg-0 px-1">
                                    <select class="form-select" name="SrchNiveau" id="SrchNiveau">
                                        <option selected disabled> {{ 'CURSUSPARNIV.SEARCHAREA.PLACEHOLDERS.NIVEAU'|translate }} </option>
                                        <option> 4ème année </option>
                                        <option> 3ème année </option>
                                    </select>
                                </div>
                                <div class="form-group col-12 col-lg-2 mx-auto px-1 text-center">
                                    <button type="button" id="getDataBtn1" class="btn btn-info text-center me-1" style="border-radius: 50%;" data-bs-toggle="tooltip" data-placement="bottom" [title]=" 'DOSSIERETUDIANT.GRIDOTHER.STARTSRCH' | translate " (click)="GetData()"><i class="fas fa-search"></i></button>
                                    <button type="button" id="clearDataBtn1" class="btn btn-warning text-center" style="border-radius: 50%;" data-bs-toggle="tooltip" data-placement="bottom" [title]=" 'DOSSIERETUDIANT.GRIDOTHER.CLEARSRCH' | translate " (click)="clearData()" ><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <hr class="text-muted mx-auto col-xl-7 col-4 mt-2 mb-3">
            </div>
            <div class="col-12 d-flex flex-column flex-lg-row justify-content-between my-1 px-2" >
                <div class="text-center text-lg-start">
                    <button type="button" id="carteEtuBtn" class="btn btn-indigo me-1 px-3 rounded-15"><i class="far fa-id-card me-1"></i> {{ 'CURSUSPARNIV.GRIDBTNS.CARTETUD'|translate }} </button>
                    <button type="button" id="attScolBtn" class="btn btn-indigo me-1 px-3 rounded-15"> <i class="fas fa-file me-1"></i> {{ 'CURSUSPARNIV.GRIDBTNS.ATTSCOLAR'|translate }} </button>
                    <button type="button" id="attDipBtn" class="btn btn-indigo me-1 px-3 rounded-15 mt-2 mt-md-0"> <i class="fas fa-file me-1"></i> {{ 'CURSUSPARNIV.GRIDBTNS.ATTDIPL'|translate }} </button>
                    <button type="button" id="attReBtn" class="btn btn-indigo me-1 px-3 rounded-15 mt-2 mt-md-0"> <i class="fas fa-file me-1"></i> {{ 'CURSUSPARNIV.GRIDBTNS.ATTRE'|translate }}  </button>
                    <button type="button" id="ficheEtuBtn" class="btn btn-indigo me-1 px-3 rounded-15 mt-2 mt-lg-0"> <i class="fas fa-print me-1"></i> {{ 'CURSUSPARNIV.GRIDBTNS.FICHETUD'|translate }} </button>
                    <button type="button" id="excelBtn" class="btn btn-indigo me-1 px-3 rounded-15 mt-2 mt-lg-0" (click)="generateExcel()"> <i class="fas fa-file-excel"></i> {{ 'CURSUSPARNIV.GRIDBTNS.EXCEL'|translate }} </button>
                </div>
                <div class="text-center text-lg-end mt-2 mt-lg-0 d-flex">
                    <button type="button" id="hideColumnsBtn" class="btn btn-warning text-white px-3 rounded-15 fs-13px" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{ 'CURSUSPARSEM.GRIDBTNS.HIDECOLUMNS' | translate }}" (click)="toggleGridColumnsModal()" >
                        <i class="fas fa-eye-slash"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="h-100 card-body p-0" style=" border-bottom-left-radius: 18px; border-bottom-right-radius: 18px;">
            <div class="igx-typography d-block h-100">
                <div class="h-100 d-flex flex-row">
                    <igx-grid #StudentsGrid id="StudentsGrid" [batchEditing]="true" [allowFiltering]="true" [data]="gridConfig.data" [primaryKey]="gridConfig.primaryKey" rowHeight="35px" width="100%" [emptyGridTemplate]="gridEtudiantsEmptyTemplate" [rowEditable]="true" [rowSelection]="'multiple'" [cellSelection]="'none'" [columnSelection]="'none'" displayDensity="compact" (rowSelectionChanging)="handleRowSelection($event)" >
                        <!--
                        <igx-paginator #paginator [(page)]="StudentsGrid.page" [totalRecords]="StudentsGrid.totalRecords" [(perPage)]="StudentsGrid.perPage" [selectOptions]="[ 5, 50, 100, 150, 200, 260, 300, 500]" [displayDensity]="StudentsGrid.displayDensity" style="background-color: transparent; border: none;" ></igx-paginator>
                        -->
                        <igx-column *ngFor="let column of gridConfig.columns" [cellClasses]="{'justify-content-center' : true }" headerClasses="text-center" [header]=" column.header | translate " [hidden]="!column.visible" [dataType]="column.dataType" [draggable]="column.draggable" [groupable]="column.groupable" [resizable]="column.resizable" [field]="column.field" [sortable]="column.sortable" [filterable]="column.filterable" [editable]="column.editable" [visibleWhenCollapsed]="column.visibleWhenCollapsed" [width]="column.width">
                        </igx-column>
                    </igx-grid>
                </div> 
                
                <ng-template #gridEtudiantsEmptyTemplate>
                    <div class="col-lg-12">
                        <p class="text-muted fs-5 text-center"> {{ 'CURSUSPARNIV.GRIDOTHER.EMPTY' | translate }} </p>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</div>
<app-menu-flottant></app-menu-flottant>
<!-- Modal -->
<div class="modal fade" id="GridColumnsModal" tabindex="-1" aria-labelledby="GridColumnsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content ColumnsHidingMenuHeight">
            <div class="modal-header">
                <h5 class="modal-title" id="GridColumnsModalLabel"> {{ 'DOCSADMIN.GRIDBTNS.HIDECOLUMNS' | translate }} </h5>
                <button type="button" id="dismissColumnsHideMenuBtn" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-start py-1 col-12 mx-0"> 
                <ng-template ngFor let-column [ngForOf]="gridConfig.columns">
                        <div class="form-check py-2 offset-1" *ngIf="column.allowHide">
                            <label class="form-check-label" >
                                <input type="checkbox" class="form-check-input warning-check-label btn-outline-warning" [(ngModel)]="column.visible" [name]="'is'+column.field+'Hidden'" value="checked">
                                {{ column.header | translate }}
                            </label>
                        </div>
                    <span class="py-1"></span>
                </ng-template>
            </div>
        </div>
    </div>
</div>